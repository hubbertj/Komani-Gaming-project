package koanami.pack;

import java.io.*;
import java.net.*;

public class ServerAccess {
	
	public Socket connectSocket;
	public PrintWriter out;
    private String serverIp;
    private int serverPort;
    public BufferedReader myBR;
    GUIClient gui;

	public ServerAccess(String inputserverIp, int inputserverPort,GUIClient GUI){
		
		this.serverIp = inputserverIp;	
		this.serverPort = inputserverPort;
		this.gui = GUI;
		
}
		
	public void connect(String outPutText){	

//connection objects for writing and reading from the server 
		
      try {
		connectSocket = new Socket(serverIp, serverPort);
		out = new PrintWriter(connectSocket.getOutputStream(), true);
	    out.println(outPutText);
	    out.close();
	} catch (UnknownHostException e) {
		System.out.println("IO connect()");
	} catch (IOException e) {
		System.out.println("IO connect()");
	}
      
      
}    
    public void receive(){  
      
      try {
		myBR = new BufferedReader(new InputStreamReader(connectSocket.getInputStream()));
		String myServerString = myBR.readLine();
	    gui.gettextAreaRespond().setText(myServerString);
	} catch (IOException e) {
		System.out.println("IOException receive()");
		
	}
      
      
      
}

// used for closing the socket	
	public void connectClose() throws IOException{
		connectSocket.close();
		myBR.close();
		
	}
 }
